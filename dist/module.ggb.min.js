'use strict';var OoGebra;(function(e){var r=[];function t(e){r.push(e)}e.onInit=t;function n(){for(var e=0,t=r;e<t.length;e++){var n=t[e];n()}i('OoGebra sucessfully loaded!')}e.init=n;function l(){return ggbApplet.exists('development')&&ggbApplet.getValue('development')?'development':'production'}e.getMode=l;function i(e){if(l()==='development'){alert('[Development]: '+e)}}e.log=i})(OoGebra||(OoGebra={}));var OoGebra;(function(e){var i=function(){function e(e,t,n){this.r=e;this.g=t;this.b=n}return e}();e.Color=i;var t=function(){function e(){}e.internal=Object.freeze({visible:false,trace:false,labelVisible:false,auxiliary:true,fixed:{fixed:true,selectionAllowed:false}});return e}();e.Style=t;function n(e,t){t.visible==null||ggbApplet.setVisible(e,t.visible);t.layer==null||ggbApplet.setLayer(e,t.layer);t.trace==null||ggbApplet.setTrace(e,t.trace);t.labelVisible==null||ggbApplet.setLabelVisible(e,t.labelVisible);t.labelStyle==null||ggbApplet.setLabelStyle(e,t.labelStyle);t.lineThickness==null||ggbApplet.setLineThickness(e,t.lineThickness);t.lineStyle==null||ggbApplet.setLineStyle(e,t.lineStyle);t.pointSize==null||ggbApplet.setPointSize(e,t.pointSize);t.pointStyle==null||ggbApplet.setLayer(e,t.pointStyle);t.color==null||ggbApplet.setColor(e,t.color.r,t.color.g,t.color.b);t.fillOpacity==null||ggbApplet.setFilling(e,t.fillOpacity);t.auxiliary==null||ggbApplet.setAuxiliary(e,t.auxiliary);if(t.fixed!=null){if(t.fixed.selectionAllowed!=null){ggbApplet.setFixed(e,t.fixed.fixed,t.fixed.selectionAllowed)}else{ggbApplet.setFixed(e,t.fixed.fixed)}}}e.setStyle=n;function r(e){return{visible:ggbApplet.getVisible(e),layer:ggbApplet.getLayer(e),trace:ggbApplet.isTracing(e),labelVisible:ggbApplet.getLabelVisible(e),labelStyle:ggbApplet.getLabelStyle(e),lineThickness:ggbApplet.getLineThickness(e),lineStyle:ggbApplet.getLineStyle(e),pointSize:ggbApplet.getPointSize(e),pointStyle:ggbApplet.getPointStyle(e),color:l(e),fillOpacity:ggbApplet.getFilling(e)}}e.getStyle=r;function l(e){var t=ggbApplet.getColor(e);var n=parseInt(t.slice(1,3),16);var r=parseInt(t.slice(3,5),16);var l=parseInt(t.slice(5,7),16);return new i(n,r,l)}e.getColor=l})(OoGebra||(OoGebra={}));var OoGebra;(function(e){var n={};var t;(function(e){var t=function(){function e(){}e.listeners=n;return e}();e.Listeners=t})(t=e.Internal||(e.Internal={}));function r(e,t){n[e]=t;return'OoGebra.Internal.Listeners.listeners['+JSON.stringify(e)+']'}e.registerListener=r;function l(e){delete n[e]}e.unregisterListener=l})(OoGebra||(OoGebra={}));var OoGebra;(function(d){var m=String.fromCharCode(34);var n;(function(t){t.version='2.0';t.name='OoGebraData';function o(e){return t.name+'_{'+t.version+'_['+e+']}'}var n=new RegExp('&|'+m,'g');var r=function(e){switch(e){case m:return'&q';default:return'&a'}};var l=new RegExp('&q|&a','g');var i=function(e){switch(e){case'&q':return m;default:return'&'}};function s(e){return e.replace(n,r)}function a(e){return e.replace(l,i)}var e=8;var u=Math.pow(2,e);var b=[];function p(e){if(!ggbApplet.exists(e)){var t=m+m;ggbApplet.evalCommand(e+' = '+t);d.setStyle(e,d.Style.internal);d.setImmutable(e,true)}}function f(){for(var e=0;e<u;e++){if(b[e]==null){var t=o(e);if(ggbApplet.exists(t)){var n=ggbApplet.getValueString(t)+'';if(n){b[e]=JSON.parse(a(n))}else{b[e]={}}}}}}function c(e){var t=0,n,r;for(n=0;n<e.length;n++){r=e.charCodeAt(n);t=(t<<5)-t+r;t|=0}return t}function g(e,t){var n=d.getIgnoreImmutables();d.setIgnoreImmutables(true);var r=c(e);var l=r&u-1;var i=o(l);p(i);f();if(t===undefined){delete b[l][e]}else{b[l][e]=t}if(Object.keys(b[l]).length==0){ggbApplet.deleteObject(i);d.setImmutable(i,false)}else{var a=s(JSON.stringify(b[l]));var g=i+' = '+(m+a+m);ggbApplet.evalCommand(g)}d.setIgnoreImmutables(n)}t.set=g;function v(e){var t=c(e);var n=t&u-1;var r=o(n);p(r);f();return b[n][e]}t.get=v})(n||(n={}));function e(e,t){return n.set(e,t)}d.setData=e;function t(e){return n.get(e)}d.getData=t;function r(e){return n.set(e,undefined)}d.deleteData=r})(OoGebra||(OoGebra={}));var OoGebra;(function(m){var l;(function(e){var t='b31ef8a7-d6de-439c-a283-6dddd9c96ca7';var n='f08a8677-3c6a-4c03-a051-cb15c374a502';var r='28092476-efaa-4244-a580-87ab358a46ae';var l='1a2bfcbb-7d60-44af-8813-038769db62f3';var i='0e0bcdc3-a558-49a6-8a4e-87b4dae99cf8';e.ignoreExplicitly=false;function a(){return m.getMode()==='development'||e.ignoreExplicitly}var g=m.registerListener(n,function(e,t){if(!a()&&A(e)){ggbApplet.undo()}});var o=m.registerListener(r,function(e){if(!a()&&A(e)){ggbApplet.undo()}});var s=m.registerListener(l,function(e){if(!a()&&A(e)){ggbApplet.undo()}});var u=m.registerListener(i,function(e,t,n){if(!a()&&A(t)){if(e==='updateStyle'){ggbApplet.undo()}if(e==='select'){ggbApplet.setUndoPoint()}}});function b(){return m.getData(t)||[]}e.getObjNames=b;function p(e){m.setData(t,e)}e.setObjNames=p;function f(e,t,n){var r=e.indexOf(t);if(r>-1&&!n){e.splice(r,1)}else if(r<0&&n){e.push(t)}return e}e.registerObjName=f;function c(){ggbApplet.registerRenameListener(g);ggbApplet.registerUpdateListener(o);ggbApplet.registerRemoveListener(s);ggbApplet.registerClientListener(u)}e.register=c;function v(){ggbApplet.unregisterRenameListener(g);ggbApplet.unregisterUpdateListener(o);ggbApplet.unregisterRemoveListener(s);ggbApplet.unregisterClientListener(u)}e.unregister=v;function d(){var e=b();if(e.length>0){c()}else{v()}}e.load=d})(l||(l={}));function e(e,t){var n=l.getObjNames();var r=n.length==0;n=l.registerObjName(n,e,t);l.setObjNames(n);if(!i()){if(r&&n.length>0){l.register()}else if(n.length===0){l.unregister()}}}m.setImmutable=e;function A(e){return l.getObjNames().indexOf(e)>-1}m.getImmutable=A;function t(e){l.ignoreExplicitly=e;if(e){l.unregister()}else{l.load()}}m.setIgnoreImmutables=t;function i(){return l.ignoreExplicitly}m.getIgnoreImmutables=i;l.load()})(OoGebra||(OoGebra={}));var OoGebra;(function(n){var e;(function(t){t.version='2.0';t.name='OoGebraCore';t.geoName=t.name+'_{'+t.version+'}';n.onInit(function(){var e=n.getIgnoreImmutables();n.setIgnoreImmutables(true);n.setStyle(t.geoName,n.Style.internal);n.setImmutable(t.geoName,true);n.setIgnoreImmutables(e)})})(e=n.Core||(n.Core={}))})(OoGebra||(OoGebra={}));OoGebra.init();if(!global.hasOwnProperty('OoGebra')){Object.defineProperty(global,'OoGebra',{value:OoGebra})}